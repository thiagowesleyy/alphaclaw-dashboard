<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AlphaClaw v3 â€” Dashboard</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; scrollbar-width: thin; scrollbar-color: #1a2e42 #010913; }
  ::-webkit-scrollbar { width: 4px; } ::-webkit-scrollbar-thumb { background: #1a2e42; border-radius: 2px; }
  body { background: #010913; color: #B8CCD8; font-family: 'Courier New', monospace; font-size: 12px; overflow-x: hidden; }
  @keyframes ticker { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
  @keyframes pulse { 0%,100% { opacity:1; } 50% { opacity:0.3; } }
  @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
  @keyframes fadeIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }
  .spinner { display: inline-block; animation: spin 1s linear infinite; }
  .fade { animation: fadeIn 0.3s ease; }
  .dot { width:6px; height:6px; border-radius:50%; animation: pulse 2s infinite; display:inline-block; }
  .tag { font-size:9px; padding:2px 6px; border-radius:3px; font-weight:700; letter-spacing:0.5px; font-family:monospace; }
  button { cursor:pointer; font-family:monospace; border:none; outline:none; }
  button:hover { opacity:0.8; }

  /* LAYOUT */
  #header { background: linear-gradient(90deg,#010913,#031528,#010913); border-bottom:1px solid #0a1f35; padding:10px 18px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:8px; }
  #ticker-wrap { overflow:hidden; border-bottom:1px solid #071422; height:26px; display:flex; align-items:center; background:#010913; }
  #ticker-inner { display:flex; gap:32px; animation:ticker 90s linear infinite; white-space:nowrap; padding-left:20px; }
  #tabs { background:#010913; border-bottom:1px solid #071422; padding:0 18px; display:flex; overflow-x:auto; }
  #tabs button { background:none; padding:9px 14px; font-size:10px; text-transform:uppercase; letter-spacing:1px; white-space:nowrap; transition:color 0.15s; border-bottom:2px solid transparent; color:#2a4060; }
  #tabs button.active { color:#00FF88; border-bottom:2px solid #00FF88; }
  #content { animation: fadeIn 0.3s ease; }

  /* DASHBOARD GRID */
  #dash-grid { display:grid; grid-template-columns:235px 1fr 260px; height:calc(100vh - 130px); overflow:hidden; }
  #coin-list { border-right:1px solid #071422; overflow-y:auto; padding:8px; }
  #center-panel { overflow-y:auto; padding:12px; display:flex; flex-direction:column; gap:10px; }
  #news-panel { border-left:1px solid #071422; overflow-y:auto; display:flex; flex-direction:column; }

  .coin-item { padding:8px 10px; border-radius:6px; cursor:pointer; margin-bottom:3px; border:1px solid #071422; transition:all 0.15s; }
  .coin-item:hover { background:#0a1e3520; }
  .coin-item.active { background:linear-gradient(135deg,#0a1e35,#071525); }
  .card { background:#050e1c; border:1px solid #0d1e30; border-radius:8px; padding:14px; }
  .card-dark { background:#020c18; border:1px solid #071422; border-radius:6px; padding:10px; }
  .grid2 { display:grid; grid-template-columns:1fr 1fr; gap:8px; }
  .grid3 { display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px; }
  .grid4 { display:grid; grid-template-columns:1fr 1fr 1fr 1fr; gap:10px; }
  .grid5 { display:grid; grid-template-columns:repeat(5,1fr); gap:8px; }
  .label { font-size:8px; color:#2a4060; margin-bottom:4px; letter-spacing:0.5px; }
  .value { font-family:monospace; font-weight:700; }
  .green { color:#00FF88; } .red { color:#FF4455; } .yellow { color:#FFB800; } .gray { color:#8899AA; }
  .news-item { padding:7px 12px; border-bottom:1px solid #080f1a; cursor:pointer; }
  .news-item:hover { background:#0a1e3515; }
  .news-breaking { background:#120800 !important; }
  .table-row { display:grid; padding:9px 14px; border-bottom:1px solid #071422; font-family:monospace; font-size:10px; align-items:center; }
  .table-head { background:#020c18; font-size:8px; color:#2a4060; text-transform:uppercase; }

  /* Progress bar */
  .progress-bg { height:2px; background:#0a1828; border-radius:1px; }
  .progress-fill { height:100%; border-radius:1px; transition:width 0.5s; }

  @media (max-width: 900px) {
    #dash-grid { grid-template-columns: 1fr; height:auto; }
    #news-panel { display:none; }
  }
</style>
</head>
<body>

<!-- HEADER -->
<div id="header">
  <div style="display:flex;align-items:center;gap:12px">
    <div style="width:38px;height:38px;border-radius:10px;background:linear-gradient(135deg,#00FF88,#00AAFF);display:flex;align-items:center;justify-content:center;font-size:20px">âš¡</div>
    <div>
      <div style="font-size:16px;font-weight:700;color:#E0F0FF;letter-spacing:2px">ALPHACLAW <span class="green">v3</span></div>
      <div style="font-size:8px;color:#2a4060;letter-spacing:1px">CRYPTO INTELLIGENCE Â· DADOS AO VIVO</div>
    </div>
  </div>
  <div style="display:flex;gap:10px;align-items:center;flex-wrap:wrap">
    <div id="status-prices" style="display:flex;align-items:center;gap:4px;padding:3px 8px;border-radius:4px;background:#FFB80008;border:1px solid #FFB80025">
      <div class="dot" style="background:#FFB800"></div>
      <span style="font-size:8px;color:#FFB800">CARREGANDO...</span>
    </div>
    <div id="status-news" style="display:flex;align-items:center;gap:4px;padding:3px 8px;border-radius:4px;background:#FFB80008;border:1px solid #FFB80025">
      <div class="dot" style="background:#FFB800"></div>
      <span style="font-size:8px;color:#FFB800">NOTÃCIAS...</span>
    </div>
    <div style="text-align:center;padding:4px 10px;border-radius:5px" id="regime-box">
      <div class="label">REGIME</div>
      <div id="regime-val" style="font-size:10px;font-weight:700;color:#8899AA">NEUTRAL</div>
    </div>
    <div style="text-align:center">
      <div class="label">FEAR & GREED</div>
      <div id="fg-val" style="font-size:14px;font-weight:700;color:#FFB800">50 <span style="font-size:9px;color:#4a6060">Neutral</span></div>
    </div>
    <div style="text-align:center">
      <div class="label">ATUALIZADO</div>
      <div id="last-update" style="font-size:9px;color:#2a4060">â€”</div>
    </div>
  </div>
</div>

<!-- TICKER -->
<div id="ticker-wrap"><div id="ticker-inner"><span style="color:#2a4060">Carregando preÃ§os... <span class="spinner">âŸ³</span></span></div></div>

<!-- TABS -->
<div id="tabs">
  <button class="active" onclick="showTab('dashboard')">Dashboard</button>
  <button onclick="showTab('precos')">PreÃ§os</button>
  <button onclick="showTab('noticias')">NotÃ­cias <span id="breaking-badge" style="display:none;margin-left:4px;font-size:7px;background:#FF445520;color:#FF4455;padding:1px 4px;border-radius:2px"></span></button>
  <button onclick="showTab('sinais')">Sinais do Bot</button>
</div>

<!-- CONTENT -->
<div id="content">

  <!-- DASHBOARD -->
  <div id="tab-dashboard">
    <div id="dash-grid">
      <!-- Coin list -->
      <div id="coin-list">
        <div style="font-size:8px;color:#1a2e42;padding:2px 6px 6px;letter-spacing:1px">TOP 10 ATIVOS</div>
        <div id="coin-list-items"></div>
      </div>
      <!-- Center -->
      <div id="center-panel">
        <div class="card" id="main-card">
          <div style="color:#2a4060;font-size:11px"><span class="spinner">âŸ³</span> Carregando dados ao vivo...</div>
        </div>
        <div class="card" id="chart-card">
          <div class="label">VARIAÃ‡ÃƒO 24H â€” TOP 10</div>
          <canvas id="bar-chart" height="120"></canvas>
        </div>
        <div class="card" id="market-stats">
          <div class="label" style="margin-bottom:8px">DADOS DE MERCADO</div>
          <div class="grid3" id="market-stats-grid"></div>
        </div>
      </div>
      <!-- News panel -->
      <div id="news-panel">
        <div style="padding:8px 12px;border-bottom:1px solid #071422;background:#010913;position:sticky;top:0;z-index:10;display:flex;justify-content:space-between;align-items:center">
          <span style="font-size:9px;color:#2a4060;letter-spacing:1px">ğŸ“° NOTÃCIAS AO VIVO</span>
          <div style="display:flex;gap:3px" id="news-filter-btns">
            <button onclick="setNewsFilter('ALL')" class="nf-btn active-nf" data-f="ALL" style="background:#00FF8818;border:1px solid #00FF8844;color:#00FF88;font-size:7px;padding:2px 4px;border-radius:3px">ALL</button>
            <button onclick="setNewsFilter('BTC')" class="nf-btn" data-f="BTC" style="background:none;border:1px solid #071422;color:#2a4060;font-size:7px;padding:2px 4px;border-radius:3px">BTC</button>
            <button onclick="setNewsFilter('ETH')" class="nf-btn" data-f="ETH" style="background:none;border:1px solid #071422;color:#2a4060;font-size:7px;padding:2px 4px;border-radius:3px">ETH</button>
            <button onclick="setNewsFilter('SOL')" class="nf-btn" data-f="SOL" style="background:none;border:1px solid #071422;color:#2a4060;font-size:7px;padding:2px 4px;border-radius:3px">SOL</button>
            <button onclick="setNewsFilter('XRP')" class="nf-btn" data-f="XRP" style="background:none;border:1px solid #071422;color:#2a4060;font-size:7px;padding:2px 4px;border-radius:3px">XRP</button>
          </div>
        </div>
        <div id="news-sidebar"><div style="padding:20px;text-align:center;color:#2a4060;font-size:10px"><span class="spinner">âŸ³</span> Buscando notÃ­cias...</div></div>
      </div>
    </div>
  </div>

  <!-- PREÃ‡OS -->
  <div id="tab-precos" style="display:none;padding:14px">
    <div class="card" style="overflow:hidden">
      <div class="table-row table-head" style="grid-template-columns:35px 110px 110px 75px 75px 75px 90px 90px 80px;gap:8px">
        <span>#</span><span>Ativo</span><span>PreÃ§o</span><span>1h</span><span>24h</span><span>7d</span><span>Vol 24h</span><span>MCap</span><span>ATH %</span>
      </div>
      <div id="price-table"></div>
    </div>
  </div>

  <!-- NOTÃCIAS -->
  <div id="tab-noticias" style="display:none;padding:14px">
    <div class="grid4" style="margin-bottom:14px" id="news-stats"></div>
    <div class="card" style="overflow:hidden">
      <div style="padding:8px 14px;border-bottom:1px solid #071422;display:flex;justify-content:space-between;align-items:center">
        <span id="news-count-label" style="font-size:9px;color:#2a4060">CARREGANDO...</span>
        <div style="display:flex;gap:4px">
          <button onclick="setNewsFilter2('ALL')" class="nf2-btn active-nf2" style="background:#00FF8818;border:1px solid #00FF8844;color:#00FF88;font-size:8px;padding:2px 6px;border-radius:3px">ALL</button>
          <button onclick="setNewsFilter2('BTC')" class="nf2-btn" style="background:none;border:1px solid #071422;color:#2a4060;font-size:8px;padding:2px 6px;border-radius:3px">BTC</button>
          <button onclick="setNewsFilter2('ETH')" class="nf2-btn" style="background:none;border:1px solid #071422;color:#2a4060;font-size:8px;padding:2px 6px;border-radius:3px">ETH</button>
          <button onclick="setNewsFilter2('XRP')" class="nf2-btn" style="background:none;border:1px solid #071422;color:#2a4060;font-size:8px;padding:2px 6px;border-radius:3px">XRP</button>
          <button onclick="setNewsFilter2('SOL')" class="nf2-btn" style="background:none;border:1px solid #071422;color:#2a4060;font-size:8px;padding:2px 6px;border-radius:3px">SOL</button>
          <button onclick="setNewsFilter2('BNB')" class="nf2-btn" style="background:none;border:1px solid #071422;color:#2a4060;font-size:8px;padding:2px 6px;border-radius:3px">BNB</button>
        </div>
      </div>
      <div id="news-full"></div>
    </div>
  </div>

  <!-- SINAIS -->
  <div id="tab-sinais" style="display:none;padding:14px">
    <div style="background:#0a0500;border:1px solid #FF880020;border-radius:8px;padding:16px;margin-bottom:14px;text-align:center;color:#FF8800;font-size:11px;line-height:1.8">
      âš¡ Os sinais do bot aparecem aqui quando o Railway estiver online.<br>
      Configure o <code style="background:#1a0800;padding:1px 6px;border-radius:3px">RAILWAY_API</code> no cÃ³digo com sua URL.<br>
      <span style="font-size:9px;color:#4a3010">Por enquanto mostrando dados de mercado ao vivo abaixo:</span>
    </div>
    <div class="card" style="overflow:hidden">
      <div class="table-row table-head" style="grid-template-columns:60px 80px 80px 80px 80px 80px 1fr;gap:8px">
        <span>Ativo</span><span>PreÃ§o</span><span>1h</span><span>24h</span><span>Vol</span><span>MCap</span><span>ATH %</span>
      </div>
      <div id="signals-table"></div>
    </div>
  </div>

</div>

<!-- FOOTER -->
<div style="border-top:1px solid #071422;padding:5px 18px;display:flex;justify-content:space-between;font-size:8px;color:#1a2e42">
  <span>AlphaClaw v3 Â· PreÃ§os: CoinGecko Â· NotÃ­cias: CryptoCompare Â· F&G: Alternative.me</span>
  <span>âš  Apenas fins educacionais. NÃ£o Ã© recomendaÃ§Ã£o financeira.</span>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONFIGURAÃ‡ÃƒO
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const RAILWAY_API = "https://alphaclaw-bot-production.up.railway.app";

const COIN_COLORS = {
  BTC:"#F7931A",ETH:"#627EEA",BNB:"#F3BA2F",XRP:"#346AA9",SOL:"#9945FF",
  ADA:"#0033AD",DOGE:"#C2A633",AVAX:"#E84142",DOT:"#E6007A",LINK:"#2A5ADA"
};
const COIN_IDS = {
  BTC:"bitcoin",ETH:"ethereum",BNB:"binancecoin",XRP:"ripple",SOL:"solana",
  ADA:"cardano",DOGE:"dogecoin",AVAX:"avalanche-2",DOT:"polkadot",LINK:"chainlink"
};
const SYMBOLS = Object.keys(COIN_COLORS);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let prices = {};
let allNews = [];
let selectedCoin = "BTC";
let newsFilter = "ALL";
let newsFilter2 = "ALL";
let fg = {value:50, classification:"Neutral"};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  HELPERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const fmtP = n => !n ? "â€”" : n >= 1000 ? "$" + n.toLocaleString("en",{maximumFractionDigits:2}) : n >= 1 ? "$" + n.toFixed(4) : "$" + n.toFixed(6);
const fmtB = n => !n ? "â€”" : n >= 1e9 ? "$" + (n/1e9).toFixed(2) + "B" : n >= 1e6 ? "$" + (n/1e6).toFixed(2) + "M" : "$" + n.toFixed(0);
const pct  = n => (n >= 0 ? "+" : "") + (n||0).toFixed(2) + "%";
const pctColor = n => n >= 0 ? "#00FF88" : "#FF4455";
const tag  = (text, color, bg) => `<span class="tag" style="color:${color};background:${bg||color+'18'}">${text}</span>`;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TABS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showTab(name) {
  ["dashboard","precos","noticias","sinais"].forEach(t => {
    document.getElementById("tab-" + t).style.display = t === name ? "block" : "none";
  });
  document.querySelectorAll("#tabs button").forEach((b,i) => {
    b.classList.remove("active");
    if (b.textContent.trim().toLowerCase().startsWith(name.replace("precos","preÃ§os").replace("noticias","notÃ­cias").replace("sinais","sinais"))) b.classList.add("active");
  });
  // Fix tab button matching
  const tabNames = ["dashboard","precos","noticias","sinais"];
  document.querySelectorAll("#tabs button").forEach((b,i) => {
    b.classList.toggle("active", tabNames[i] === name);
  });
  if (name === "noticias") renderFullNews();
  if (name === "sinais") renderSignalsTable();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FETCH PREÃ‡OS â€” CoinGecko
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchPrices() {
  try {
    const ids = Object.values(COIN_IDS).join(",");
    const url = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=${ids}&price_change_percentage=1h,24h,7d&sparkline=true`;
    const r = await fetch(url);
    if (!r.ok) throw new Error("HTTP " + r.status);
    const data = await r.json();
    data.forEach(c => {
      const sym = Object.keys(COIN_IDS).find(k => COIN_IDS[k] === c.id);
      if (sym) prices[sym] = {
        price: c.current_price,
        change1h: c.price_change_percentage_1h_in_currency || 0,
        change24h: c.price_change_percentage_24h_in_currency || 0,
        change7d: c.price_change_percentage_7d_in_currency || 0,
        high24h: c.high_24h, low24h: c.low_24h,
        vol24h: c.total_volume, mcap: c.market_cap,
        rank: c.market_cap_rank, ath: c.ath,
        athChange: c.ath_change_percentage,
        sparkline: (c.sparkline_in_7d?.price||[]).filter((_,i,a)=>i%Math.floor(a.length/24)===0).slice(-24),
      };
    });
    setStatus("prices", true);
    document.getElementById("last-update").textContent = new Date().toLocaleTimeString("pt-BR");
    renderAll();
  } catch(e) {
    setStatus("prices", false, "ERRO: " + e.message);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FETCH FEAR & GREED
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchFG() {
  try {
    const r = await fetch("https://api.alternative.me/fng/?limit=1");
    const d = await r.json();
    if (d.data?.[0]) {
      fg = {value: +d.data[0].value, classification: d.data[0].value_classification};
      const v = fg.value;
      const c = v < 25 ? "#FF4455" : v < 45 ? "#FF8800" : v > 75 ? "#FF4455" : v > 55 ? "#00FF88" : "#FFB800";
      document.getElementById("fg-val").innerHTML = `<span style="color:${c}">${v}</span> <span style="font-size:9px;color:#4a6060">${fg.classification}</span>`;
    }
  } catch {}
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FETCH NOTÃCIAS â€” CryptoCompare
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
async function fetchNews() {
  try {
    const r = await fetch("https://min-api.cryptocompare.com/data/v2/news/?lang=EN&sortOrder=latest&limit=40");
    if (!r.ok) throw new Error("HTTP " + r.status);
    const d = await r.json();
    allNews = (d.Data||[]).map(n => {
      const title = n.title.toLowerCase();
      const coin = ["btc","bitcoin"].some(x=>title.includes(x)) ? "BTC"
        : ["eth","ethereum"].some(x=>title.includes(x)) ? "ETH"
        : ["xrp","ripple"].some(x=>title.includes(x)) ? "XRP"
        : ["sol","solana"].some(x=>title.includes(x)) ? "SOL"
        : ["bnb","binance"].some(x=>title.includes(x)) ? "BNB"
        : ["ada","cardano"].some(x=>title.includes(x)) ? "ADA"
        : ["doge","dogecoin"].some(x=>title.includes(x)) ? "DOGE"
        : ["avax","avalanche"].some(x=>title.includes(x)) ? "AVAX"
        : ["dot","polkadot"].some(x=>title.includes(x)) ? "DOT"
        : ["link","chainlink"].some(x=>title.includes(x)) ? "LINK"
        : "CRIPTO";
      const cats = (n.categories||"").toLowerCase();
      const isReg  = cats.includes("regulation") || title.includes("sec") || title.includes("ban");
      const isBull = title.includes("surge")||title.includes("rally")||title.includes("bull")||title.includes("ath")||title.includes("record")||title.includes("approve")||title.includes("soar");
      const isBear = title.includes("crash")||title.includes("hack")||title.includes("scam")||title.includes("fraud")||title.includes("collapse")||title.includes("plunge")||title.includes("drop");
      const impact = isReg ? (isBull?7:isBear?-7:2) : isBull?4:isBear?-4:(Math.random()*2-0.5);
      const isBreaking = Math.abs(impact) >= 6 || n.title.includes("BREAKING");
      const age = Date.now()/1000 - n.published_on;
      const timeStr = age<3600 ? Math.floor(age/60)+"m atrÃ¡s" : age<86400 ? Math.floor(age/3600)+"h atrÃ¡s" : Math.floor(age/86400)+"d atrÃ¡s";
      return { title:n.title, source:n.source_info?.name||n.source, url:n.url, coin, impact:+impact.toFixed(1), time:timeStr, isBreaking,
        category:isReg?"REGULATÃ“RIO":cats.includes("market")?"MERCADO":cats.includes("tech")?"TÃ‰CNICO":"GERAL" };
    });
    const breaking = allNews.filter(n=>n.isBreaking).length;
    const badge = document.getElementById("breaking-badge");
    if (breaking > 0) { badge.style.display="inline"; badge.textContent = breaking + " ğŸ”´"; }
    setStatus("news", true, allNews.length + " NOTÃCIAS âœ“");
    renderNewsSidebar();
    renderNewsStats();
  } catch(e) {
    setStatus("news", false, "ERRO NOTÃCIAS");
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATUS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setStatus(type, ok, msg) {
  const el = document.getElementById("status-" + type);
  const color = ok ? "#00FF88" : "#FF4455";
  const bg = ok ? "#00FF8808" : "#FF445508";
  const border = ok ? "#00FF8825" : "#FF445525";
  const defaultMsg = type === "prices" ? (ok?"PREÃ‡OS AO VIVO âœ“":"ERRO COINGECKO") : (ok?"":"ERRO NOTÃCIAS");
  el.style.background = bg; el.style.border = "1px solid " + border;
  el.innerHTML = `<div class="dot" style="background:${color}"></div><span style="font-size:8px;color:${color}">${msg||defaultMsg}</span>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER COIN LIST
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderCoinList() {
  const el = document.getElementById("coin-list-items");
  el.innerHTML = SYMBOLS.map(sym => {
    const p = prices[sym] || {};
    const c = COIN_COLORS[sym];
    const isActive = sym === selectedCoin;
    const chg = p.change24h||0;
    return `<div class="coin-item${isActive?" active":""}" onclick="selectCoin('${sym}')" style="${isActive?"border-color:"+c+"44":""};background:${isActive?"linear-gradient(135deg,#0a1e35,#071525)":"transparent"}">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div style="display:flex;align-items:center;gap:5px">
          <div style="width:7px;height:7px;border-radius:50%;background:${c}"></div>
          <span style="font-weight:700;color:#D0E0F0">${sym}</span>
          ${p.rank?`<span style="font-size:7px;color:#1a2e42">#${p.rank}</span>`:""}
        </div>
        <span style="font-size:9px;color:#2a4060">â€”</span>
      </div>
      <div style="display:flex;justify-content:space-between;margin-top:3px;align-items:center">
        <span style="font-size:11px;font-family:monospace;font-weight:700;color:#E8F4FF">${p.price?fmtP(p.price):'<span style="color:#1a2e42">loading...</span>'}</span>
        <span style="font-size:10px;color:${pctColor(chg)};font-weight:700">${pct(chg)}</span>
      </div>
    </div>`;
  }).join("");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER MAIN CARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderMainCard() {
  const sym = selectedCoin;
  const p = prices[sym] || {};
  const c = COIN_COLORS[sym];
  const el = document.getElementById("main-card");
  if (!p.price) { el.innerHTML = `<div style="color:#2a4060"><span class="spinner">âŸ³</span> Carregando ${sym}...</div>`; return; }

  // Sparkline canvas
  const sparkHtml = p.sparkline?.length > 0 ? `
    <div style="margin-top:10px">
      <div class="label">PREÃ‡O 7 DIAS</div>
      <canvas id="sparkline-canvas" height="50" style="width:100%"></canvas>
    </div>` : "";

  el.innerHTML = `
    <div style="display:flex;justify-content:space-between;align-items:flex-start">
      <div>
        <div style="display:flex;align-items:center;gap:8px;margin-bottom:6px">
          <div style="width:12px;height:12px;border-radius:50%;background:${c}"></div>
          <span style="font-size:20px;font-weight:700;color:#E8F4FF">${sym}/USDT</span>
          ${p.rank?tag("#"+p.rank,"#4a6080"):""}
        </div>
        <div style="font-size:34px;font-weight:700;font-family:monospace;color:#F0F8FF">${fmtP(p.price)}</div>
        <div style="display:flex;gap:16px;margin-top:4px;font-size:11px">
          <span style="color:${pctColor(p.change1h)}">1h: ${pct(p.change1h)}</span>
          <span style="color:${pctColor(p.change24h)};font-weight:700">24h: ${pct(p.change24h)}</span>
          <span style="color:${pctColor(p.change7d)}">7d: ${pct(p.change7d)}</span>
        </div>
        <div style="display:flex;gap:14px;margin-top:8px;font-size:10px;color:#2a4060">
          <span>MÃ¡x: <span style="color:#00FF88">${fmtP(p.high24h)}</span></span>
          <span>MÃ­n: <span style="color:#FF4455">${fmtP(p.low24h)}</span></span>
          <span>Vol: <span style="color:#8899AA">${fmtB(p.vol24h)}</span></span>
          <span>MCap: <span style="color:#8899AA">${fmtB(p.mcap)}</span></span>
        </div>
        <div style="margin-top:4px;font-size:10px;color:#2a4060">
          ATH: <span style="color:#8899AA">${fmtP(p.ath)}</span>
          <span style="color:#FF4455;margin-left:4px">${(p.athChange||0).toFixed(1)}% do ATH</span>
        </div>
      </div>
      <div style="text-align:center">
        <div style="padding:10px 18px;border-radius:8px;background:#FFB80015;border:2px solid #FFB80044;color:#FFB800;font-size:18px;font-weight:700;letter-spacing:2px;margin-bottom:6px">
          NEUTRO
        </div>
        <div style="font-size:8px;color:#2a4060">Bot Railway offline</div>
        <div style="font-size:8px;color:#FF4455;margin-top:2px">Conecte para sinais</div>
      </div>
    </div>
    ${sparkHtml}`;

  // Draw sparkline
  if (p.sparkline?.length > 0) {
    setTimeout(() => {
      const canvas = document.getElementById("sparkline-canvas");
      if (!canvas) return;
      canvas.width = canvas.offsetWidth;
      const ctx = canvas.getContext("2d");
      const data = p.sparkline;
      const min = Math.min(...data), max = Math.max(...data);
      const w = canvas.width, h = canvas.height;
      const isUp = (p.change7d||0) >= 0;
      ctx.clearRect(0,0,w,h);
      const grad = ctx.createLinearGradient(0,0,0,h);
      grad.addColorStop(0, isUp?"rgba(0,255,136,0.3)":"rgba(255,68,85,0.3)");
      grad.addColorStop(1, "rgba(0,0,0,0)");
      ctx.beginPath();
      data.forEach((v,i) => {
        const x = (i/(data.length-1))*w, y = h - ((v-min)/(max-min||1))*(h-4)-2;
        i===0 ? ctx.moveTo(x,y) : ctx.lineTo(x,y);
      });
      ctx.strokeStyle = isUp?"#00FF88":"#FF4455";
      ctx.lineWidth = 1.5;
      ctx.stroke();
      ctx.lineTo(w,h); ctx.lineTo(0,h); ctx.closePath();
      ctx.fillStyle = grad; ctx.fill();
    }, 50);
  }
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER BAR CHART
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderBarChart() {
  const canvas = document.getElementById("bar-chart");
  if (!canvas || Object.keys(prices).length === 0) return;
  canvas.width = canvas.offsetWidth || 500;
  const ctx = canvas.getContext("2d");
  const data = SYMBOLS.map(s => ({sym:s, val:prices[s]?.change24h||0}));
  const maxAbs = Math.max(...data.map(d=>Math.abs(d.val)), 0.1);
  const w = canvas.width, h = 120;
  const barW = (w - 20) / data.length - 4;
  ctx.clearRect(0,0,w,h);
  // Zero line
  const zeroY = h/2;
  ctx.strokeStyle = "#1a2e42"; ctx.lineWidth = 1;
  ctx.beginPath(); ctx.moveTo(10,zeroY); ctx.lineTo(w-10,zeroY); ctx.stroke();
  data.forEach((d,i) => {
    const x = 10 + i * ((w-20)/data.length);
    const barH = (Math.abs(d.val)/maxAbs) * (h/2 - 16);
    const y = d.val >= 0 ? zeroY - barH : zeroY;
    ctx.fillStyle = d.val >= 0 ? "#00FF8880" : "#FF445580";
    ctx.beginPath();
    ctx.roundRect ? ctx.roundRect(x,y,barW,barH,[3,3,0,0]) : ctx.rect(x,y,barW,barH);
    ctx.fill();
    // Label
    ctx.fillStyle = "#2a4060"; ctx.font = "8px monospace"; ctx.textAlign = "center";
    ctx.fillText(d.sym, x + barW/2, h - 2);
    // Value
    ctx.fillStyle = d.val >= 0 ? "#00FF8888" : "#FF445588"; ctx.font = "7px monospace";
    const valY = d.val >= 0 ? y - 3 : y + barH + 9;
    ctx.fillText((d.val>=0?"+":"")+d.val.toFixed(1)+"%", x+barW/2, valY);
  });
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER MARKET STATS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderMarketStats() {
  const p = prices[selectedCoin]||{};
  const v = fg.value;
  const fgColor = v<25?"#FF4455":v<45?"#FF8800":v>75?"#FF4455":v>55?"#00FF88":"#FFB800";
  document.getElementById("market-stats-grid").innerHTML = `
    <div class="card-dark">
      <div class="label">FEAR & GREED</div>
      <div class="value" style="color:${fgColor}">${fg.value} â€” ${fg.classification}</div>
    </div>
    <div class="card-dark">
      <div class="label">VOL 24H ${selectedCoin}</div>
      <div class="value gray">${fmtB(p.vol24h)}</div>
    </div>
    <div class="card-dark">
      <div class="label">MARKET CAP ${selectedCoin}</div>
      <div class="value gray">${fmtB(p.mcap)}</div>
    </div>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER NEWS SIDEBAR
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderNewsSidebar() {
  const filtered = newsFilter==="ALL" ? allNews : allNews.filter(n=>n.coin===newsFilter||n.coin==="ALL");
  const el = document.getElementById("news-sidebar");
  if (allNews.length === 0) { el.innerHTML = `<div style="padding:20px;text-align:center;color:#2a4060;font-size:10px"><span class="spinner">âŸ³</span></div>`; return; }
  el.innerHTML = filtered.slice(0,25).map(n => {
    const impactColor = n.impact > 0 ? "#00FF88" : "#FF4455";
    const coinColor = COIN_COLORS[n.coin] || "#8899AA";
    return `<div class="news-item${n.isBreaking?" news-breaking":""}" onclick="window.open('${n.url}','_blank')">
      ${n.isBreaking?`<div style="font-size:8px;color:#FF4455;font-weight:700;margin-bottom:2px;letter-spacing:1px">âš¡ BREAKING</div>`:""}
      <div style="font-size:10px;color:${n.isBreaking?"#FFAAAA":"#9aaabb"};line-height:1.4">${n.title}</div>
      <div style="display:flex;gap:5px;margin-top:3px;flex-wrap:wrap;align-items:center">
        <span style="font-size:8px;color:#2a3a50">${n.source}</span>
        <span style="font-size:8px;color:#1a2e42">${n.time}</span>
        ${tag(n.impact>0?"+"+n.impact:n.impact, impactColor, impactColor+"15")}
      </div>
    </div>`;
  }).join("");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER FULL NEWS PAGE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderNewsStats() {
  document.getElementById("news-stats").innerHTML = [
    [`F&G: ${fg.value}`, fg.classification, fg.value<40?"#FF4455":fg.value>60?"#00FF88":"#FFB800"],
    ["Breaking", allNews.filter(n=>n.isBreaking).length+" alertas", "#FF4455"],
    ["Bullish", allNews.filter(n=>n.impact>=4).length+" notÃ­cias", "#00FF88"],
    ["Bearish", allNews.filter(n=>n.impact<=-4).length+" notÃ­cias", "#FF4455"],
  ].map(([k,v,c])=>`<div class="card"><div class="label">${k}</div><div class="value" style="font-size:14px;color:${c}">${v}</div></div>`).join("");
}

function renderFullNews() {
  const filtered = newsFilter2==="ALL" ? allNews : allNews.filter(n=>n.coin===newsFilter2||n.coin==="ALL");
  document.getElementById("news-count-label").textContent = (allNews.length||0) + " NOTÃCIAS AO VIVO â€” CryptoCompare";
  document.getElementById("news-full").innerHTML = filtered.map(n=>{
    const ic = n.impact>0?"#00FF88":"#FF4455";
    const coinColor = COIN_COLORS[n.coin]||"#8899AA";
    return `<div class="news-item${n.isBreaking?" news-breaking":""}" onclick="window.open('${n.url}','_blank')">
      ${n.isBreaking?`<span style="font-size:8px;color:#FF4455;font-weight:700;letter-spacing:1px">âš¡ BREAKING </span>`:""}
      <div style="font-size:11px;color:${n.isBreaking?"#FFAAAA":"#C0D0E0"};line-height:1.4;margin-bottom:5px">${n.title}</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
        <span style="font-size:9px;color:#3a5070">${n.source}</span>
        <span style="font-size:9px;color:#1a2e42">${n.time}</span>
        ${tag(n.coin, coinColor)}
        ${tag((n.impact>0?"+":"")+n.impact, ic, ic+"15")}
        ${tag(n.category,"#4a6080")}
        <span style="font-size:8px;color:#00AAFF66">â†— ler artigo</span>
      </div>
    </div>`;
  }).join("");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER PRICE TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderPriceTable() {
  document.getElementById("price-table").innerHTML = SYMBOLS.map((sym,i)=>{
    const p = prices[sym]||{};
    const c = COIN_COLORS[sym];
    return `<div class="table-row" onclick="selectCoin('${sym}');showTab('dashboard')"
      style="grid-template-columns:35px 110px 110px 75px 75px 75px 90px 90px 80px;gap:8px;cursor:pointer;background:${selectedCoin===sym?"#0a1e3522":"transparent"}">
      <span style="color:#1a2e42">${i+1}</span>
      <div style="display:flex;align-items:center;gap:6px">
        <div style="width:8px;height:8px;border-radius:50%;background:${c}"></div>
        <span style="font-weight:700;color:#D0E0F0">${sym}</span>
      </div>
      <span style="font-weight:700;color:#E8F4FF;font-family:monospace">${p.price?fmtP(p.price):"<span class='spinner'>âŸ³</span>"}</span>
      <span style="color:${pctColor(p.change1h||0)}">${pct(p.change1h||0)}</span>
      <span style="color:${pctColor(p.change24h||0)};font-weight:700">${pct(p.change24h||0)}</span>
      <span style="color:${pctColor(p.change7d||0)}">${pct(p.change7d||0)}</span>
      <span style="color:#8899AA;font-family:monospace">${fmtB(p.vol24h)}</span>
      <span style="color:#8899AA;font-family:monospace">${fmtB(p.mcap)}</span>
      <span style="color:#FF4455;font-size:9px">${p.athChange?(p.athChange.toFixed(1)+"%"):"â€”"}</span>
    </div>`;
  }).join("");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER SIGNALS TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderSignalsTable() {
  document.getElementById("signals-table").innerHTML = SYMBOLS.map(sym=>{
    const p = prices[sym]||{};
    const c = COIN_COLORS[sym];
    return `<div class="table-row" style="grid-template-columns:60px 80px 80px 80px 80px 80px 1fr;gap:8px">
      <div style="display:flex;align-items:center;gap:5px">
        <div style="width:6px;height:6px;border-radius:50%;background:${c}"></div>
        <span style="font-weight:700;color:#D0E0F0">${sym}</span>
      </div>
      <span style="color:#E8F4FF;font-weight:700">${p.price?fmtP(p.price):"â€”"}</span>
      <span style="color:${pctColor(p.change1h||0)}">${pct(p.change1h||0)}</span>
      <span style="color:${pctColor(p.change24h||0)};font-weight:700">${pct(p.change24h||0)}</span>
      <span style="color:#8899AA">${fmtB(p.vol24h)}</span>
      <span style="color:#8899AA">${fmtB(p.mcap)}</span>
      <span style="color:#FF4455;font-size:9px">${p.athChange?(p.athChange.toFixed(1)+"% do ATH"):"â€”"}</span>
    </div>`;
  }).join("");
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  TICKER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderTicker() {
  if (Object.keys(prices).length === 0) return;
  const items = [...SYMBOLS,...SYMBOLS].map(sym=>{
    const p = prices[sym]||{};
    const chg = p.change24h||0;
    const color = chg>=0?"#00FF88":"#FF4455";
    return `<span style="font-size:10px;font-family:monospace;color:${color}">
      <span style="color:#2a4060;margin-right:4px">${sym}</span>${p.price?fmtP(p.price):"â€”"}
      <span style="margin-left:4px">${chg>=0?"â–²":"â–¼"}${Math.abs(chg).toFixed(2)}%</span>
    </span>`;
  }).join("");
  document.getElementById("ticker-inner").innerHTML = items;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SELECT COIN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function selectCoin(sym) {
  selectedCoin = sym;
  renderAll();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  NEWS FILTER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function setNewsFilter(f) {
  newsFilter = f;
  document.querySelectorAll(".nf-btn").forEach(b => {
    const isActive = b.dataset.f === f;
    b.style.background = isActive?"#00FF8818":"none";
    b.style.borderColor = isActive?"#00FF8844":"#071422";
    b.style.color = isActive?"#00FF88":"#2a4060";
  });
  renderNewsSidebar();
}
function setNewsFilter2(f) {
  newsFilter2 = f;
  document.querySelectorAll(".nf2-btn").forEach(b => {
    const isActive = b.textContent.trim() === f;
    b.style.background = isActive?"#00FF8818":"none";
    b.style.borderColor = isActive?"#00FF8844":"#071422";
    b.style.color = isActive?"#00FF88":"#2a4060";
  });
  renderFullNews();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER ALL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderAll() {
  renderCoinList();
  renderMainCard();
  renderBarChart();
  renderMarketStats();
  renderTicker();
  renderPriceTable();
  renderSignalsTable();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  INIT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
fetchPrices();
fetchFG();
fetchNews();
setInterval(fetchPrices, 30000);
setInterval(fetchFG, 300000);
setInterval(fetchNews, 120000);
window.addEventListener("resize", () => { renderBarChart(); });
</script>
</body>
</html>
